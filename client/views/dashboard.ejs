<!DOCTYPE html>
<html>
<head>
    <title>User Dashboard - Habit Tracker</title>
    <!-- Link to the external CSS for styling -->
    <link rel="stylesheet" href="/style/dashboard.css">
</head>
<body>
    <!-- Main title for the Dashboard -->
    <h1>Habit Tracker Dashboard</h1>
    
    <!-- Section for Logout Button -->
    <div class="logout-button">
        <!-- Link to trigger user logout -->
        <a href="/user/logout" class="button">Logout</a>
    </div>

    <!-- Section for Adding New Habits -->
    <div class="habit-form">
        <h2>Add New Habit</h2>
        <!-- Form to submit a new habit -->
        <form action="/habit/add" method="POST">
            <!-- Input field for new habit name -->
            <input type="text" name="habitName" placeholder="Enter habit name" required>
            <!-- Submit button for the form -->
            <button type="submit">Add Habit</button>
        </form>
    </div>

    <!-- Section Displaying List of Habits -->
    <div class="habit-list">
        <h2>Your Habits</h2>
        <!-- Unordered list for habits -->
        <ul>
            <!-- Checking if there are habits to display -->
            <% if (habits && habits.length > 0) { %>
                <!-- Loop through each habit and display -->
                <% habits.forEach(function(habit) { %>
                    <li>
                        <!-- Link to habit's tracking page -->
                        <a href="/habit/tracking/<%= habit._id %>"><%= habit.name %></a> - [Status]
                        <!-- Form for deleting a habit -->
                        <form action="/habit/delete/<%= habit._id %>" method="POST" style="display: inline;">
                            <!-- Button to delete the habit with a confirmation prompt -->
                            <button type="submit" onclick="return confirm('Are you sure you want to delete this habit?');">Delete</button>
                        </form>
                    </li>
                <% }); %>
            <% } else { %>
                <!-- Message displayed if no habits are found -->
                <li>No habits found. Add a new habit!</li>
            <% } %>
        </ul>
    </div>
</body>
</html>
